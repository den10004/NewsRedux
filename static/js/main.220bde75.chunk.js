(this["webpackJsonpredux-news"]=this["webpackJsonpredux-news"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(8),a=n.n(r),i=(n(23),n(24),n(4)),s=n(13),u=n.n(s),o=n(15),j="INCREMENT",d="DECREMENT",l="INPUT_TEXT",b="COMMENT_CREATE",O="COMMENT_UPDATE",f="COMMENT_DELETE",p="COMMENTS_LOAD",m="LOADER_DISPLAY_ON",h="LOADER_DISPLAY_OFF",v="ERROR_DISPLAY_ON",x="ERROR_DISPLAY_OFF";function g(){return{type:h}}function y(e){return function(t){t({type:v,text:e}),setTimeout((function(){t({type:x})}),2e3)}}var k=n(1);var N=Object(i.b)((function(e){return{likes:e.likeReducer.likes}}),(function(e){return{onIncrementLikes:function(){return e({type:j})},onDecrementLikes:function(){return e({type:d})}}}))((function(e){return Object(k.jsxs)("div",{className:"button-controls",children:[Object(k.jsxs)("button",{onClick:e.onIncrementLikes,children:["\u2764 ",e.likes]}),Object(k.jsx)("button",{onClick:e.onDecrementLikes,children:"Dislike"})]})})),E=n(10),R=n(16),_=n.n(R);var D=function(e){var t=e.data,n=Object(c.useState)(""),r=Object(E.a)(n,2),a=r[0],s=r[1],u=t.text,o=t.id,j=(t.url,Object(i.c)());return Object(c.useEffect)((function(){u&&s(u)}),[u]),Object(k.jsx)("form",{className:"comments-item",onSubmit:function(e){e.preventDefault(),j(function(e,t){return{type:O,data:{text:e,id:t}}}(a,o))},children:Object(k.jsxs)("div",{onClick:function(e){e.preventDefault(),j(function(e){return{type:f,id:e}}(o))},className:"comments-item-delete",children:["\xd7"," ",Object(k.jsx)("a",{href:t.url,target:"_blank",children:t.url}),Object(k.jsx)("input",{type:"text",value:a,onChange:function(e){s(e.target.value)}}),Object(k.jsx)("input",{type:"submit",hidden:!0})]})})};var T=function(e){var t=Object(c.useState)(""),n=Object(E.a)(t,2),r=n[0],a=n[1],s=Object(i.c)(),j=Object(i.d)((function(e){return e.commentsReducer.comments}));return Object(c.useEffect)((function(){s(function(){var e=Object(o.a)(u.a.mark((function e(t){var n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:m}),e.next=4,fetch("https://newsapi.org/v2/everything?language=ru&sortBy=publishedAt&pageSize=100&qInTitle=russia&apiKey=10e8db0981ec4941becf1c27cd92454d");case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,r=c.articles,t({type:p,data:r}),t(g()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),t(y("\u043e\u0448\u0438\u0431\u043a\u0430 API")),t(g());case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(k.jsxs)("div",{className:"card-comments",children:[Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=_()();s(function(e,t){return{type:b,data:{text:e,id:t}}}(r,t))},className:"comments-item-create",children:[Object(k.jsx)("input",{type:"text",value:r,onChange:function(e){a(e.target.value)}}),Object(k.jsx)("input",{type:"submit",hidden:!0})]}),!!j.length&&j.map((function(e,t){return Object(k.jsx)(D,{data:e},t)}))]})};var w=function(e){var t=Object(i.c)(),n=Object(i.d)((function(e){return e.inputReducer.text}));return Object(k.jsxs)("div",{className:"card-title",children:[Object(k.jsx)("div",{className:"card-title-top",children:Object(k.jsx)("input",{type:"text",onChange:function(e){t(function(e){return{type:l,text:e}}(e.target.value))}})}),Object(k.jsx)("p",{children:n})]})},A=n(17),C=n.n(A),I=function(e){var t=Object(i.d)((function(e){return e.appReducer.loading}));return Object(k.jsx)("div",{className:"loader-styles",children:Object(k.jsx)(C.a,{type:"TailSpin",color:"#00BFFF",height:100,width:100,visible:t})})};var L=function(){var e=Object(i.d)((function(e){return e.appReducer.error}));return Object(k.jsx)("div",{className:"App",children:Object(k.jsxs)("div",{className:"wrap",children:[Object(k.jsx)(I,{}),Object(k.jsxs)("div",{className:"card",children:[e&&Object(k.jsx)("div",{className:"error-message",children:e}),Object(k.jsxs)("div",{className:"card__header",children:[Object(k.jsx)("h2",{children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438 \u0420\u043e\u0441\u0441\u0438\u0438"}),Object(k.jsx)("a",{href:"https://newsapi.org/",target:"_blank",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u043d\u043e\u0433\u043e \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430 NewsApi"})]}),Object(k.jsxs)("div",{className:"card-block",children:[Object(k.jsx)(w,{}),Object(k.jsx)(N,{})]}),Object(k.jsx)(T,{})]})]})})},S=n(5),M=n(2),F={likes:0},P={text:""},Y=n(6),B={comments:[]},J={loading:!1,error:null},U=Object(S.b)({likeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(M.a)(Object(M.a)({},e),{},{likes:e.likes+1});case d:return Object(M.a)(Object(M.a)({},e),{},{likes:e.likes-1});default:return e}},inputReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;return t.type===l?Object(M.a)(Object(M.a)({},e),{},{text:t.text}):e},commentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(M.a)(Object(M.a)({},e),{},{comments:[].concat(Object(Y.a)(e.comments),[t.data])});case p:var n=t.data.map((function(e){return{text:e.title,url:e.url}}));return Object(M.a)(Object(M.a)({},e),{},{comments:n});case O:var c=t.data,r=e.comments,a=r.findIndex((function(e){return e.id===c.id})),i=[].concat(Object(Y.a)(r.slice(0,a)),[c],Object(Y.a)(r.slice(a+1)));return Object(M.a)(Object(M.a)({},e),{},{comments:i});case f:return function(){var n=t.id,c=e.comments,r=c.findIndex((function(e){return e.id===n})),a=[].concat(Object(Y.a)(c.slice(0,r)),Object(Y.a)(c.slice(r+1)));return Object(M.a)(Object(M.a)({},e),{},{comments:a})}();default:return e}},appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(M.a)(Object(M.a)({},e),{},{loading:!0});case h:return Object(M.a)(Object(M.a)({},e),{},{loading:!1});case v:return Object(M.a)(Object(M.a)({},e),{},{error:t.text});case x:return Object(M.a)(Object(M.a)({},e),{},{error:null});default:return e}}}),q=n(18),z=["\u043a\u043e\u0437\u0451\u043b","\u043e\u0441\u0451\u043b"];var K=Object(S.d)(U,Object(S.c)(Object(S.a)(q.a,(function(e){return function(t){return function(n){if(n.type===b&&z.some((function(e){return n.data.text.includes(e)})))return e.dispatch(y("\u043f\u043b\u043e\u0445\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"));return t(n)}}}))));a.a.render(Object(k.jsx)(i.a,{store:K,children:Object(k.jsx)(L,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.220bde75.chunk.js.map